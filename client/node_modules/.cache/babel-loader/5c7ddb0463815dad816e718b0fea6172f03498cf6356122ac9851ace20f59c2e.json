{"ast":null,"code":"import _regeneratorRuntime from\"/Users/madhusudhana.rk/Desktop/react/divine-collections/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/madhusudhana.rk/Desktop/react/divine-collections/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/madhusudhana.rk/Desktop/react/divine-collections/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import Cards from'./Cards';import{jsx as _jsx}from\"react/jsx-runtime\";var Products=function Products(){var _useParams=useParams(),id=_useParams.id,name=_useParams.name;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];// This method fetches the products from the database.\nuseEffect(function(){function getproducts(){return _getproducts.apply(this,arguments);}function _getproducts(){_getproducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,message,products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8000/category/\".concat(id,\"&\").concat(name));case 2:response=_context.sent;if(response.ok){_context.next=7;break;}message=\"An error occured: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 7:_context.next=9;return response.json();case 9:products=_context.sent;setProducts(products);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getproducts.apply(this,arguments);}getproducts();return;},[id,name]);var currentData=products.filter(function(item){return item.category===id;});return/*#__PURE__*/_jsx(\"div\",{className:\"products-wrapper\",children:/*#__PURE__*/_jsx(Cards,{cards:currentData})});};export default Products;","map":{"version":3,"names":["React","useEffect","useState","useParams","Cards","Products","id","name","products","setProducts","getproducts","fetch","response","ok","message","statusText","window","alert","json","currentData","filter","item","category"],"sources":["/Users/madhusudhana.rk/Desktop/react/divine-collections/client/src/components/Products.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { CardsList } from '../utils/types';\nimport Cards from './Cards';\n\nconst Products : React.FC= () => {\n  const {id, name} = useParams<string>();\n  const [products, setProducts] = useState<CardsList[]>([]);\n\n  // This method fetches the products from the database.\n  useEffect(() => {\n    async function getproducts() {\n      const response = await fetch(`http://localhost:8000/category/${id}&${name}`);\n      if (!response.ok) {\n        const message = `An error occured: ${response.statusText}`;\n        window.alert(message);\n        return;\n      }\n      const products = await response.json();\n      setProducts(products);\n    }\n    getproducts();\n    return; \n  }, [id, name]);\n  \n  const currentData: CardsList[] = products.filter(item => item.category === id)\n  return (\n    <div className='products-wrapper'>\n      <Cards cards={currentData} />\n    </div>\n  )\n}\nexport default Products;"],"mappings":"4cAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAE5C,MAAOC,MAAK,KAAM,SAAS,CAAC,2CAE5B,GAAMC,SAAmB,CAAE,QAArBA,SAAmB,EAAQ,CAC/B,eAAmBF,SAAS,EAAU,CAA/BG,EAAE,YAAFA,EAAE,CAAEC,IAAI,YAAJA,IAAI,CACf,cAAgCL,QAAQ,CAAc,EAAE,CAAC,wCAAlDM,QAAQ,eAAEC,WAAW,eAE5B;AACAR,SAAS,CAAC,UAAM,SACCS,YAAW,6IAA1B,yLACyBC,MAAK,0CAAmCL,EAAE,aAAIC,IAAI,EAAG,QAAtEK,QAAQ,kBACTA,QAAQ,CAACC,EAAE,yBACRC,OAAO,6BAAwBF,QAAQ,CAACG,UAAU,EACxDC,MAAM,CAACC,KAAK,CAACH,OAAO,CAAC,CAAC,8DAGDF,SAAQ,CAACM,IAAI,EAAE,QAAhCV,QAAQ,eACdC,WAAW,CAACD,QAAQ,CAAC,CAAC,uDACvB,8CACDE,WAAW,EAAE,CACb,OACF,CAAC,CAAE,CAACJ,EAAE,CAAEC,IAAI,CAAC,CAAC,CAEd,GAAMY,YAAwB,CAAGX,QAAQ,CAACY,MAAM,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACC,QAAQ,GAAKhB,EAAE,GAAC,CAC9E,mBACE,YAAK,SAAS,CAAC,kBAAkB,uBAC/B,KAAC,KAAK,EAAC,KAAK,CAAEa,WAAY,EAAG,EACzB,CAEV,CAAC,CACD,cAAed,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}